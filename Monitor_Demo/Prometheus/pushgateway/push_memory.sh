#!/bin/bash total_memory=$(free |awk '/Mem/{print $2}') used_memory=$(free |awk '/Mem/{print $3}') job_name="custom_memory" instance_name="172.16.0.9" cat <<EOF | curl --data-binary @- http://172.16.0.9:9091/metrics/job/$job_name/instance/$instance_name #TYPE custom_memory_total gauge custom_memory_total $total_memory #TYPE custom_memory_total gauge custom_memory_used $used_memory EOF